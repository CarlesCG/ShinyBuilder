{
    "contents" : "available_dashboards <- str_replace(list.files(str_c(getwd(),'/dashboards')), '.RData', '')\n\nshinyUI(fluidPage(\n  #Includes\n  tags$head(HTML('<script src=\"//tinymce.cachefly.net/4.0/tinymce.min.js\"></script>')),\n  includeScript(str_c(getwd(),'/www/shiny-tinymce-bindings.js')),\n  includeScript(str_c(getwd(),'/www/shiny-gridster-bindings.js')),\n  includeScript(str_c(getwd(),'/www/json2.js')),  \n  tags$head(HTML('<script type=\"text/javascript\" src=\"//www.google.com/jsapi\"></script>')),\n  includeScript(paste0(getwd(),'/www/googleChart_init.js')),\n  \n\n  #Navbar\n  div(class=\"navbar navbar-static-top navbar\", \n      div(class = 'navbar-inner',\n        span(class = 'brand pull-left', list(img(src = './iheartradio.png', width=\"40\", height=\"40\"), 'Dashboard Builder')),\n        column(3, selectInput('sel_dashboard', NULL, choices = available_dashboards)),\n        #File\n        withTags(\n          ul(class = \"nav\",\n             li(class = \"dropdown\",\n                a(class=\"dropdown-toggle\", \"data-toggle\" = \"dropdown\", 'File', b(class = \"caret\")),\n                ul(class = \"dropdown-menu\",\n                   #li(a(icon('dashboard'), 'New Dashboard')),\n                   li(a(id=\"save_dash_btn\", class=\"action-button shiny-input-bound\", icon('floppy-o'), 'Save')),\n                   li(class = \"divider\"),\n                   li(a(id=\"save_as_modal_btn\", 'data-toggle' = \"modal\", 'data-target' = '#save_as_modal', icon('floppy-o'), 'Save As')),\n                   li(a(id=\"delete_dash_modal_btn\", class = 'action-button', 'data-toggle' = \"modal\", 'data-target' = '#delete_modal', icon('trash-o'), 'Delete Dashboard'))\n                )\n             )\n          )),\n\n          #Edit\n          withTags(\n            ul(class = \"nav\",\n             li(class = \"dropdown\",\n                a(class=\"dropdown-toggle\", \"data-toggle\" = \"dropdown\", 'Edit', b(class = \"caret\")),\n                ul(class = \"dropdown-menu\",\n                   li(a(id=\"addChart\", class=\"action-button shiny-input-bound\", icon('bar-chart-o'), 'Add Chart')),\n                   li(a(id=\"addText\", class=\"action-button shiny-input-bound\", icon('bars'), 'Add Text Area'))\n                )\n             )\n          ))\n\n      )\n      \n  ),\n\n  #Gridster frame\n  br(),\n  gridster(id = 'gridster_frame', marginx = 10, marginy = 10, width = 100, height = 100),\n  hr(), \n  \n  #'Delete' modal\n  div(id = 'delete_modal', class = 'modal container hide', style = 'width: 100%; margin: auto; left: 0', tabindex = '-1',\n      div(class = 'modal-header',\n          tags$div(class = 'button', class = 'close', 'data-dismiss' = 'modal', 'aria-hidden'='true', 'x'),\n          h3('Confirm Deletion')),\n      div(class = 'modal-body',\n          p('Are you sure you want to delete this dashboard?  This operation cannot be undone.')),\n      div(class = 'modal-footer',\n          HTML('<button type=\"button\" data-dismiss=\"modal\" class=\"btn\">Cancel</button>\n               <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary action-button\" id=\"delete_dash_btn\">Delete Dashboard</button>')) \n  ),\n  \n\n  #'Save As' Modal\n  div(id = 'save_as_modal', class = 'modal container hide', style = 'width: 100%; margin: auto; left: 0', tabindex = '-1',\n      div(class = 'modal-header',\n          tags$div(class = 'button', class = 'close', 'data-dismiss' = 'modal', 'aria-hidden'='true', 'x'),\n          h3('Save As')\n      ),\n      div(class = 'modal-body', \n          p('Enter a new dashboard title:'), \n          textInput('save_file_name', label = NULL, value = '')\n          ),\n      div(class = 'modal-footer',\n          HTML('<button type=\"button\" data-dismiss=\"modal\" class=\"btn\">Close</button>\n                  <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary action-button\" id=\"save_as_dash_btn\">Save Dashboard</button>')\n      )\n  ),\n          \n  \n  #Query Editor Modal\n  div(id = 'full-width', class = 'modal container hide', style = 'width: 100%; margin: auto; left: 0', tabindex = '-1',\n      div(class = 'modal-header',\n          HTML('<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">x</button>'),\n          fluidRow(column(6,h3('Edit Query')), column(5,h3('Table Preview')))\n      ),\n    div(class = 'modal-body',\n          fluidRow(\n            column(6, aceEditor(\"code\", \n                                mode=\"sql\", \n                                height = \"300px\",\n                                value=''\n            ),\n           HTML('<button class=\"btn btn-primary action-button shiny-bound-input\" id=\"update_preview\">Update Preview</button>'),\n           selectInput('selected_db', label = NULL, choices = names(db_list)), \n           tags$input(id = 'active_chart_id', type = 'text', value = '', class = 'shiny-bound-input', style = 'visibility: hidden; z-index: -1')\n           ),\n            column(6, dataTableOutput(\"output_tbl\"))\n          )\n     ),\n    div(class = 'modal-footer',\n           HTML('<button type=\"button\" data-dismiss=\"modal\" class=\"btn\">Close</button>\n                  <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary action-button\" id=\"save_changes\">Save Query</button>')\n      )\n  ),\n  p('powered by iHR DataScience', align = 'left'),    \n  \n  #Debugging Outputs\n  #textOutput('last_update_list'),\n  \n  #Main Stylesheet\n  includeCSS(str_c(getwd(), '/www/main.css'))\n))\n",
    "created" : 1400787645661.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1919682128",
    "id" : "1491F0DF",
    "lastKnownWriteTime" : 1400787837,
    "path" : "~/Desktop/dev_software/ShinyDash/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}